/* empty css             *//* empty css                      *//* empty css               *//* empty css                  *//* empty css                     */import{_ as U}from"./back-image-DlzoBvf2.js";import{c as A}from"./index-DP2s6OXS.js";import{g as V}from"./category-C8RLufTB.js";import{e as B,z as E,r,A as $,f as F,h as M,o as a,c as o,b as t,F as N,j as x,n as j,t as m,u as d,i as c,w as h,O as D,y as z,P as O,d as Q,Q as R,R as T,p as q,a as G,_ as H}from"./index-Acd9_127.js";import"./request-ZaKeb_ww.js";const v=u=>(q("data-v-f0707330"),u=u(),G(),u),J={class:"box"},K={class:"left"},W={class:"page-header"},X=v(()=>t("h1",{class:"page-title"},[t("span",null,"风的日记"),t("em",{class:"num"},"75篇")],-1)),Y=v(()=>t("div",{class:"page-des"},[t("p",null,"现在觉得最好的事来自琐碎的时光。")],-1)),Z={class:"page-lei"},tt=["onClick"],et={class:"paging"},st=["disabled"],at=v(()=>t("span",{class:"show"},"下一页",-1)),ot={class:"right"},nt={class:"container"},lt={class:"item"},rt={class:"img"},ct=["src"],it={key:1,src:U},dt={href:""},ut=B({__name:"test",setup(u){const _=E([]),f=r([]),y=r(0),C=r("王的日记");let p=$(()=>_.filter(s=>s.categoryName==C.value));const w=(s,l)=>{y.value=s,C.value=l.categoryName},i=r(8);r(1);const n=r(1),I=s=>{g()},L=()=>{n.value+=1,g()};async function g(){try{const s=await A();_.splice(0,_.length,...s.data.data)}catch(s){console.error("获取文章列表失败:",s)}}return F(()=>{g(),V().then(s=>{f.value=s.data.data})}),(s,l)=>{const k=R,S=T,P=M("routerLink");return a(),o("div",J,[t("div",K,[t("header",W,[X,Y,t("div",Z,[t("ul",null,[(a(!0),o(N,null,x(f.value,(e,b)=>(a(),o("li",{class:"cat-item",key:e.id},[t("div",{class:j(b==y.value?"active1":""),onClick:_t=>w(b,e)},m(e.categoryName),11,tt)]))),128))])])]),t("div",et,[t("button",{class:"paging__button",onClick:L,disabled:n.value===Math.ceil(d(p).length/i.value)},[at,c(k,null,{default:h(()=>[c(d(D))]),_:1})],8,st),c(S,{size:"small",background:"",layout:" pager","page-size":i.value,"onUpdate:pageSize":l[0]||(l[0]=e=>i.value=e),"current-page":n.value,"onUpdate:currentPage":l[1]||(l[1]=e=>n.value=e),onCurrentChange:I,total:d(p).length,class:"mt-4"},null,8,["page-size","current-page","total"])])]),t("div",ot,[(a(!0),o(N,null,x(d(p).slice((n.value-1)*i.value,n.value*i.value),e=>(a(),o("div",nt,[c(P,{to:`/detail/${e._id}`},{default:h(()=>[t("div",lt,[t("div",rt,[e.imgUrl?(a(),o("img",{key:0,src:`http://127.0.0.1:3000/getimg?url=${e.imgUrl}`,alt:""},null,8,ct)):z("",!0),e.imgUrl?z("",!0):(a(),o("img",it))]),t("h3",null,[t("a",dt,m(e.title),1)]),t("p",null,[c(k,{style:{"margin-right":"4px"}},{default:h(()=>[c(d(O))]),_:1}),Q(" "+m(e.categoryName),1)])])]),_:2},1032,["to"])]))),256))])])}}}),Nt=H(ut,[["__scopeId","data-v-f0707330"]]);export{Nt as default};
